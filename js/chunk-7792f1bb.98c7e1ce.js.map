{"version":3,"sources":["webpack:///./src/views/Story.vue?1f53","webpack:///./src/service/getStory.js","webpack:///src/views/Story.vue","webpack:///./src/views/Story.vue?6a15","webpack:///./src/views/Story.vue","webpack:///./src/views/Story.vue?eb91"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","domProps","_s","introduction","bosslist","_l","boss","i","key","class","BOSS","Introduce","_e","directives","name","rawName","value","expression","ref","mapimg","fb","on","loaded","staticRenderFns","API","__node","getInfo","axios","get","params","OtherName","getBoss","mapid","MapID","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,mBAAmB,SAAS,CAACP,EAAIQ,GAAG,UAAUJ,EAAG,IAAI,CAACE,YAAY,OAAOG,SAAS,CAAC,UAAYT,EAAIU,GAAGV,EAAIW,iBAAkBX,EAAIY,SAAe,OAAE,CAACR,EAAG,aAAa,CAACG,MAAM,CAAC,mBAAmB,SAAS,CAACP,EAAIQ,GAAG,UAAUR,EAAIa,GAAIb,EAAY,UAAE,SAASc,EAAKC,GAAG,OAAOX,EAAG,MAAM,CAACY,IAAID,EAAET,YAAY,UAAU,CAACF,EAAG,KAAK,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACa,MAAM,cAAcV,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,QAAQ,OAAS,QAAQ,QAAU,kBAAkB,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,w1BAAw1BP,EAAIQ,GAAG,IAAIR,EAAIU,GAAGI,EAAKI,MAAM,OAAOd,EAAG,IAAI,CAACE,YAAY,gBAAgBG,SAAS,CAAC,UAAYT,EAAIU,GAAGI,EAAKK,oBAAmBnB,EAAIoB,KAAMpB,EAAS,MAAE,CAACI,EAAG,aAAa,CAACG,MAAM,CAAC,mBAAmB,SAAS,CAACP,EAAIQ,GAAG,UAAUJ,EAAG,MAAM,CAACiB,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOxB,EAAW,QAAEyB,WAAW,YAAYnB,YAAY,YAAY,CAACF,EAAG,MAAM,CAACsB,IAAI,aAAapB,YAAY,QAAQC,MAAM,CAAC,IAAMP,EAAI2B,OAAO,IAAM3B,EAAI4B,IAAIC,GAAG,CAAC,KAAO7B,EAAI8B,aAAa9B,EAAIoB,MAAM,IAC1/DW,EAAkB,G,uDCChBC,EAAMC,YAEZ,SAASC,EAAQN,GACb,OAAOO,IAAMC,IAAIJ,EAAM,UAAU,CAC7BK,OAAS,CACLC,UAAYV,KAKxB,SAASW,EAAQC,GACb,OAAOL,IAAMC,IAAIJ,EAAM,UAAU,CAC7BK,OAAS,CACLI,MAAQD,KCsBpB,OACE,KAAF,QACE,MAAF,GACE,KAAF,WACI,MAAJ,CACM,SAAN,EACM,aAAN,GACM,MAAN,GACM,SAAN,KAGE,SAAF,CACI,GAAJ,WACM,OAAN,sBAEI,OAAJ,WACM,OAAN,oDAGE,QAAF,CACI,SAAJ,WAAM,IAAN,OACM,EAAN,2BACQ,IAAR,sBAEA,GACA,iBACY,EAAZ,uDACY,EAAZ,kDACY,EAAZ,oDACY,EAAZ,yDAEU,EAAV,eAEU,EAAV,iBAGA,SACU,EAAV,2BACY,IAAZ,SACA,cACc,EAAd,mBAMI,OAAJ,WACM,KAAN,aAGE,QAAF,GAEE,QAAF,WACI,KAAJ,aC1F0Y,I,wBCQtYE,EAAY,eACd,EACA3C,EACAgC,GACA,EACA,KACA,KACA,MAIa,aAAAW,E,6CCnBf,yBAAmpB,EAAG,G","file":"js/chunk-7792f1bb.98c7e1ce.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-fb-story\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"故事背景\")]),_c('p',{staticClass:\"u-fb\",domProps:{\"innerHTML\":_vm._s(_vm.introduction)}}),(_vm.bosslist.length)?[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"首领传说\")]),_vm._l((_vm.bosslist),function(boss,i){return _c('div',{key:i,staticClass:\"u-boss\"},[_c('h5',{staticClass:\"u-name\"},[_c('svg',{class:'u-boss-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"833.7\",\"height\":\"833.7\",\"viewBox\":\"0 0 833.7 833.7\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M416.8 0C208.5.1 39.6 169 39.6 377.399V555.2c0 9.399 4.4 18.199 11.9 23.899L213.7 702.2v101.5c0 16.6 13.4 30 30 30h24.1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19h2c10.5 0 19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30H590c16.6 0 30-13.4 30-30V702.1L782.2 579c7.5-5.7 11.899-14.5 11.899-23.9V377.3C794 169 625.1.1 416.8 0zM259.1 558.1c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104s104 46.601 104 104c0 57.5-46.6 104-104 104zm187.3 76.5h-59.1c-13.7 0-22.4-14.7-15.8-26.7l29.6-53.699c6.8-12.4 24.7-12.4 31.5 0l29.601 53.699c6.5 11.999-2.201 26.7-15.801 26.7zm128.1-76.5c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104 57.399 0 104 46.601 104 104 0 57.5-46.5 104-104 104z\"}})]),_vm._v(\" \"+_vm._s(boss.BOSS)+\" \")]),_c('p',{staticClass:\"u-boss-detail\",domProps:{\"innerHTML\":_vm._s(boss.Introduce)}})])})]:_vm._e(),(_vm.mapid)?[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"副本地图\")]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-fb-map\"},[_c('img',{ref:\"fb_map_img\",staticClass:\"u-map\",attrs:{\"src\":_vm.mapimg,\"alt\":_vm.fb},on:{\"load\":_vm.loaded}})])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\nimport {__node} from '@jx3box/jx3box-common/js/jx3box.json'\nconst API = __node\n\nfunction getInfo(fb) {\n    return axios.get(API + 'fb/info',{\n        params : {\n            OtherName : fb\n        }\n    });\n}\n\nfunction getBoss(mapid){\n    return axios.get(API + 'fb/boss',{\n        params : {\n            MapID : mapid\n        }\n    });\n}\n\nexport { getInfo,getBoss };\n","<template>\n    <div class=\"m-fb-story\">\n        <el-divider content-position=\"left\">故事背景</el-divider>\n        <p class=\"u-fb\" v-html=\"introduction\"></p>\n\n        <template v-if=\"bosslist.length\">\n        <el-divider content-position=\"left\">首领传说</el-divider>\n        <div class=\"u-boss\" v-for=\"(boss, i) in bosslist\" :key=\"i\">\n            <h5 class=\"u-name\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"833.7\" height=\"833.7\" viewBox=\"0 0 833.7 833.7\" v-bind:class=\"'u-boss-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M416.8 0C208.5.1 39.6 169 39.6 377.399V555.2c0 9.399 4.4 18.199 11.9 23.899L213.7 702.2v101.5c0 16.6 13.4 30 30 30h24.1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19h2c10.5 0 19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30H590c16.6 0 30-13.4 30-30V702.1L782.2 579c7.5-5.7 11.899-14.5 11.899-23.9V377.3C794 169 625.1.1 416.8 0zM259.1 558.1c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104s104 46.601 104 104c0 57.5-46.6 104-104 104zm187.3 76.5h-59.1c-13.7 0-22.4-14.7-15.8-26.7l29.6-53.699c6.8-12.4 24.7-12.4 31.5 0l29.601 53.699c6.5 11.999-2.201 26.7-15.801 26.7zm128.1-76.5c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104 57.399 0 104 46.601 104 104 0 57.5-46.5 104-104 104z\"/></svg>\n                {{ boss.BOSS }}\n            </h5>\n            <p\n                class=\"u-boss-detail\"\n                v-html=\"boss.Introduce\"\n            ></p>\n        </div>\n        </template>\n\n        <template v-if=\"mapid\">\n        <el-divider content-position=\"left\">副本地图</el-divider>\n        <div class=\"m-fb-map\" v-loading=\"loading\">\n            <img\n                class=\"u-map\"\n                :src=\"mapimg\"\n                :alt=\"fb\"\n                ref=\"fb_map_img\"\n                @load=\"loaded\"\n            />\n        </div>\n        </template>\n    </div>\n</template>\n\n<script>\nimport { __ossMirror } from \"@jx3box/jx3box-common/js/jx3box\";\nimport { getInfo, getBoss } from \"@/service/getStory.js\";\nexport default {\n    name: \"Story\",\n    props: [],\n    data: function() {\n        return {\n            loading: true,\n            introduction: \"\",\n            mapid : '',\n            bosslist : []\n        };\n    },\n    computed: {\n        fb: function() {\n            return this.$store.state.fb;\n        },\n        mapimg : function (){\n            return __ossMirror + \"pic/map/map_\" + this.mapid + \".jpg\";\n        }\n    },\n    methods: {\n        loadData: function() {\n            getInfo(this.fb).then((res) => {\n                let data = res.data ? res.data[0] : ''\n\n                if(data){\n                    if(data.Introduction){\n                        this.introduction = data.Introduction.replace('<text>text=\"','')\n                        this.introduction = this.introduction.replace('</text>','')\n                        this.introduction = this.introduction.replace(/font=\\d*/g,'')\n                        this.introduction = this.introduction.replace(/\\\\\\\\\\\\n/g,'<br/>')\n                    }\n                    this.mapid = data.MapID\n                }else{\n                    this.introduction = '无'\n                }\n\n                if(this.mapid){\n                    getBoss(this.mapid).then((res) => {\n                        let bosslist = res.data\n                        if(bosslist && bosslist.length){\n                            this.bosslist = bosslist\n                        }\n                    })\n                }\n            })\n        },\n        loaded : function (){\n            this.loading = false\n        }\n    },\n    filters : {\n    },\n    mounted: function() {\n        this.loadData()\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/story.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Story.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Story.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Story.vue?vue&type=template&id=74ef9428&\"\nimport script from \"./Story.vue?vue&type=script&lang=js&\"\nexport * from \"./Story.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Story.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Story.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Story.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}