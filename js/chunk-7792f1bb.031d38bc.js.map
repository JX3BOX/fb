{"version":3,"sources":["webpack:///./src/views/Story.vue?55d5","webpack:///./src/service/getStory.js","webpack:///src/views/Story.vue","webpack:///./src/views/Story.vue?bc02","webpack:///./src/views/Story.vue","webpack:///./src/views/Story.vue?8ef8"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","_v","domProps","_s","introduction","bosslist","_l","boss","i","key","class","BOSS","Introduce","_e","staticRenderFns","API","__node","getInfo","fb","axios","get","params","OtherName","catch","err","console","log","getBoss","mapid","MapID","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAW,QAAEU,WAAW,YAAYC,YAAY,cAAc,CAACP,EAAG,aAAa,CAACQ,MAAM,CAAC,mBAAmB,SAAS,CAACZ,EAAIa,GAAG,UAAUT,EAAG,IAAI,CAACO,YAAY,OAAOG,SAAS,CAAC,UAAYd,EAAIe,GAAGf,EAAIgB,iBAAkBhB,EAAIiB,SAAe,OAAE,CAACb,EAAG,aAAa,CAACQ,MAAM,CAAC,mBAAmB,SAAS,CAACZ,EAAIa,GAAG,UAAUb,EAAIkB,GAAIlB,EAAY,UAAE,SAASmB,EAAKC,GAAG,OAAOhB,EAAG,MAAM,CAACiB,IAAID,EAAET,YAAY,UAAU,CAACP,EAAG,KAAK,CAACO,YAAY,UAAU,CAACP,EAAG,MAAM,CAACkB,MAAM,cAAcV,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,QAAQ,OAAS,QAAQ,QAAU,kBAAkB,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACR,EAAG,OAAO,CAACQ,MAAM,CAAC,EAAI,w1BAAw1BZ,EAAIa,GAAG,IAAIb,EAAIe,GAAGI,EAAKI,MAAM,OAAOnB,EAAG,IAAI,CAACO,YAAY,gBAAgBG,SAAS,CAAC,UAAYd,EAAIe,GAAGI,EAAKK,oBAAmBxB,EAAIyB,MAAM,IAC1wDC,EAAkB,G,iECChBC,EAAMC,YAEZ,SAASC,EAAQC,GACb,OAAOC,IAAMC,IAAIL,EAAM,UAAU,CAC7BM,OAAS,CACLC,UAAYJ,KAEjBK,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAIpB,SAASG,EAAQC,GACb,OAAOT,IAAMC,IAAIL,EAAM,UAAU,CAC7BM,OAAS,CACLQ,MAAQD,KAEbL,OAAM,SAACC,GACNC,QAAQC,IAAIF,MCcpB,OACE,KAAF,QACE,MAAF,GACE,KAAF,WACI,MAAJ,CACM,SAAN,EACM,aAAN,GACM,MAAN,GACM,SAAN,KAGE,SAAF,CACI,GAAJ,WACM,OAAN,yDAEI,IAAJ,WACM,OAAN,yDAEI,OAAJ,WACM,OAAN,sDAGE,QAAF,CACI,SAAJ,WAAM,IAAN,OACM,KAAN,WACM,EAAN,2BACQ,IAAR,sBAEA,GACA,iBACY,EAAZ,oCACA,eACA,IAEY,EAAZ,oCACA,UACA,IAEY,EAAZ,oCACA,YACA,IAEY,EAAZ,oCACA,WACA,UAGU,EAAV,eAEU,EAAV,iBAGA,SACU,EAAV,2BACY,IAAZ,SACA,cACc,EAAd,kBAIA,oBACQ,EAAR,eAGI,OAAJ,WACM,KAAN,aAGE,MAAF,CACI,GAAJ,WACM,KAAN,aAGE,QAAF,GACE,QAAF,WACI,KAAJ,aC7G0Y,I,wBCQtYM,EAAY,eACd,EACA3C,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAAgB,E,6CCnBf,W","file":"js/chunk-7792f1bb.031d38bc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-fb-story\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"故事背景\")]),_c('p',{staticClass:\"u-fb\",domProps:{\"innerHTML\":_vm._s(_vm.introduction)}}),(_vm.bosslist.length)?[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"首领传说\")]),_vm._l((_vm.bosslist),function(boss,i){return _c('div',{key:i,staticClass:\"u-boss\"},[_c('h5',{staticClass:\"u-name\"},[_c('svg',{class:'u-boss-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"833.7\",\"height\":\"833.7\",\"viewBox\":\"0 0 833.7 833.7\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M416.8 0C208.5.1 39.6 169 39.6 377.399V555.2c0 9.399 4.4 18.199 11.9 23.899L213.7 702.2v101.5c0 16.6 13.4 30 30 30h24.1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19h2c10.5 0 19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30H590c16.6 0 30-13.4 30-30V702.1L782.2 579c7.5-5.7 11.899-14.5 11.899-23.9V377.3C794 169 625.1.1 416.8 0zM259.1 558.1c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104s104 46.601 104 104c0 57.5-46.6 104-104 104zm187.3 76.5h-59.1c-13.7 0-22.4-14.7-15.8-26.7l29.6-53.699c6.8-12.4 24.7-12.4 31.5 0l29.601 53.699c6.5 11.999-2.201 26.7-15.801 26.7zm128.1-76.5c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104 57.399 0 104 46.601 104 104 0 57.5-46.5 104-104 104z\"}})]),_vm._v(\" \"+_vm._s(boss.BOSS)+\" \")]),_c('p',{staticClass:\"u-boss-detail\",domProps:{\"innerHTML\":_vm._s(boss.Introduce)}})])})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\nimport {__node} from '@jx3box/jx3box-common/data/jx3box.json'\nconst API = __node\n\nfunction getInfo(fb) {\n    return axios.get(API + 'fb/info',{\n        params : {\n            OtherName : fb\n        }\n    }).catch((err) => {\n        console.log(err)\n    })\n}\n\nfunction getBoss(mapid){\n    return axios.get(API + 'fb/boss',{\n        params : {\n            MapID : mapid\n        }\n    }).catch((err) => {\n        console.log(err)\n    })\n}\n\nexport { getInfo,getBoss };\n","<template>\n    <div class=\"m-fb-story\" v-loading=\"loading\">\n        <el-divider content-position=\"left\">故事背景</el-divider>\n        <p class=\"u-fb\" v-html=\"introduction\"></p>\n\n        <template v-if=\"bosslist.length\">\n            <el-divider content-position=\"left\">首领传说</el-divider>\n            <div class=\"u-boss\" v-for=\"(boss, i) in bosslist\" :key=\"i\">\n                <h5 class=\"u-name\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"833.7\" height=\"833.7\" viewBox=\"0 0 833.7 833.7\" v-bind:class=\"'u-boss-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M416.8 0C208.5.1 39.6 169 39.6 377.399V555.2c0 9.399 4.4 18.199 11.9 23.899L213.7 702.2v101.5c0 16.6 13.4 30 30 30h24.1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19h2c10.5 0 19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30H590c16.6 0 30-13.4 30-30V702.1L782.2 579c7.5-5.7 11.899-14.5 11.899-23.9V377.3C794 169 625.1.1 416.8 0zM259.1 558.1c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104s104 46.601 104 104c0 57.5-46.6 104-104 104zm187.3 76.5h-59.1c-13.7 0-22.4-14.7-15.8-26.7l29.6-53.699c6.8-12.4 24.7-12.4 31.5 0l29.601 53.699c6.5 11.999-2.201 26.7-15.801 26.7zm128.1-76.5c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104 57.399 0 104 46.601 104 104 0 57.5-46.5 104-104 104z\"/></svg>\n                    {{ boss.BOSS }}\n                </h5>\n                <p class=\"u-boss-detail\" v-html=\"boss.Introduce\"></p>\n            </div>\n        </template>\n\n        <!-- <template v-if=\"mapid\">\n            <el-divider content-position=\"left\">副本地图</el-divider>\n            <div class=\"m-fb-map\" v-loading=\"loading\">\n                <img\n                    class=\"u-map\"\n                    :src=\"mapimg\"\n                    :alt=\"fb\"\n                    ref=\"fb_map_img\"\n                    @load=\"loaded\"\n                />\n            </div>\n        </template> -->\n    </div>\n</template>\n\n<script>\nimport { __ossMirror } from \"@jx3box/jx3box-common/data/jx3box\";\nimport { getInfo, getBoss } from \"@/service/getStory.js\";\nexport default {\n    name: \"Story\",\n    props: [],\n    data: function() {\n        return {\n            loading: false,\n            introduction: \"\",\n            mapid: \"\",\n            bosslist: [],\n        };\n    },\n    computed: {\n        fb: function() {\n            return this.$route.query.fb_name || this.$store.state.default_fb;\n        },\n        zlp: function() {\n            return this.$route.query.fb_zlp || this.$store.state.default_zlp;\n        },\n        mapimg: function() {\n            return __ossMirror + \"pic/map/map_\" + this.mapid + \"_0.png\";\n        },\n    },\n    methods: {\n        loadData: function() {\n            this.loading = true\n            getInfo(this.fb).then((res) => {\n                let data = res.data ? res.data[0] : \"\";\n\n                if (data) {\n                    if (data.Introduction) {\n                        this.introduction = data.Introduction.replace(\n                            '<text>text=\"',\n                            \"\"\n                        );\n                        this.introduction = this.introduction.replace(\n                            \"</text>\",\n                            \"\"\n                        );\n                        this.introduction = this.introduction.replace(\n                            /font=\\d*/g,\n                            \"\"\n                        );\n                        this.introduction = this.introduction.replace(\n                            /\\\\\\\\\\\\n/g,\n                            \"<br/>\"\n                        );\n                    }\n                    this.mapid = data.MapID;\n                } else {\n                    this.introduction = \"无\";\n                }\n\n                if (this.mapid) {\n                    getBoss(this.mapid).then((res) => {\n                        let bosslist = res.data;\n                        if (bosslist && bosslist.length) {\n                            this.bosslist = bosslist;\n                        }\n                    });\n                }\n            }).finally(() => {\n                this.loading = false\n            })\n        },\n        loaded: function() {\n            this.loading = false;\n        },\n    },\n    watch : {\n        fb : function (){\n            this.loadData()\n        }\n    },\n    filters: {},\n    mounted: function() {\n        this.loadData();\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/story.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Story.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Story.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Story.vue?vue&type=template&id=896ce13e&\"\nimport script from \"./Story.vue?vue&type=script&lang=js&\"\nexport * from \"./Story.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Story.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Story.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}