(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f205f2e"],{3483:function(t){t.exports=JSON.parse('{"5":"其它","6":"武器","7":"装备","8":"饰品"}')},"628f":function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-fb-drop"},[i("el-tabs",{attrs:{type:"card"},model:{value:t.mapid,callback:function(s){t.mapid=s},expression:"mapid"}},t._l(t.maplist,(function(s,n){return i("el-tab-pane",{key:n,attrs:{label:s.mode,name:s.map_id}},[i("div",{staticClass:"u-bosslist"},t._l(t.bosslist,(function(s,n){return i("div",{key:n,staticClass:"u-boss",class:{on:s.BOSS==t.boss},on:{click:function(i){return t.changeBoss(s.BOSS)}}},[i("svg",{class:"u-boss-avatar",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"833.7",height:"833.7",viewBox:"0 0 833.7 833.7","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[i("path",{attrs:{d:"M416.8 0C208.5.1 39.6 169 39.6 377.399V555.2c0 9.399 4.4 18.199 11.9 23.899L213.7 702.2v101.5c0 16.6 13.4 30 30 30h24.1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19h2c10.5 0 19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30H590c16.6 0 30-13.4 30-30V702.1L782.2 579c7.5-5.7 11.899-14.5 11.899-23.9V377.3C794 169 625.1.1 416.8 0zM259.1 558.1c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104s104 46.601 104 104c0 57.5-46.6 104-104 104zm187.3 76.5h-59.1c-13.7 0-22.4-14.7-15.8-26.7l29.6-53.699c6.8-12.4 24.7-12.4 31.5 0l29.601 53.699c6.5 11.999-2.201 26.7-15.801 26.7zm128.1-76.5c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104 57.399 0 104 46.601 104 104 0 57.5-46.5 104-104 104z"}})]),t._v(" "+t._s(s.BOSS)+" ")])})),0),i("div",{staticClass:"u-droplist"},[i("div",{staticClass:"u-tabs"},[i("el-tabs",{staticClass:"u-group",attrs:{"tab-position":"left"},model:{value:t.droptype,callback:function(s){t.droptype=s},expression:"droptype"}},[i("el-tab-pane",{attrs:{label:"全部",name:""}}),t._l(t.dropmap,(function(t,s){return i("el-tab-pane",{key:s,attrs:{label:t,name:s}})}))],2)],1),t.droplist&&t.droplist.length?i("div",{staticClass:"u-drops"},t._l(t.droplist,(function(s){return i("a",{directives:[{name:"show",rawName:"v-show",value:!~~t.droptype||s.ItemType==t.droptype,expression:"!~~droptype || drop.ItemType == droptype"}],key:s.ItemName,staticClass:"u-item",attrs:{href:t.getDropLink(s)}},[i("i",{staticClass:"u-drop-item-icon u-item-icon",class:"u-item-color-"+s.ItemQuality},[i("img",{attrs:{src:t._f("iconLink")(s.ItemIconID)}})]),i("span",{staticClass:"u-item-name"},[t._v(t._s(s.ItemName))])])})),0):i("el-alert",{attrs:{title:"没有相关条目",type:"info","show-icon":""}})],1)])})),1)],1)},e=[],a=(i("d81d"),i("d3b7"),i("b83f")),o=(i("65c2"),i("3483")),r=i("85e4"),l={name:"DropV2",props:[],data:function(){return{mapid:"",bosslist:[],boss:"",dropmap:o,droplist:[],droptype:"",data:{},loading:!1}},computed:{fb:function(){return this.$route.query.fb_name||this.$store.state.default_fb},zlp:function(){return this.$route.query.fb_zlp||this.$store.state.default_zlp},client:function(){return this.$store.state.client||"std"},maplist:function(){var t,s,i,n;return null===(t=this.$store.state.map)||void 0===t||null===(s=t[this.zlp])||void 0===s||null===(i=s["dungeon"])||void 0===i||null===(n=i[this.fb])||void 0===n?void 0:n["maps"]},params:function(){return{client:this.client,BossName:this.boss}}},methods:{loadData:function(){var t=this;this.loadBossList().then((function(){t.loadDropList()}))},loadBossList:function(){var t=this;return Object(a["a"])(this.mapid,this.client).then((function(s){t.bosslist=(null===s||void 0===s?void 0:s.data)||[],t.boss=t.bosslist[0]["BOSS"]}))},loadDropList:function(){var t=this;return this.loading=!0,Object(a["c"])(this.mapid,this.params).then((function(s){t.droplist=null===s||void 0===s?void 0:s.data})).finally((function(){t.loading=!1}))},changeBoss:function(t){this.boss=t,this.loadDropList()},getDropLink:function(t){return Object(r["getLink"])("item",t.ItemType+"_"+t.ItemID)}},watch:{fb:{immediate:!0,handler:function(){var t;this.mapid=null===(t=this.maplist)||void 0===t?void 0:t[0]["map_id"],this.loadData()}},mapid:{handler:function(t){t&&this.loadData()}}},filters:{iconLink:r["iconLink"]},components:{}},c=l,u=(i("6826"),i("2877")),d=Object(u["a"])(c,n,e,!1,null,null,null);s["default"]=d.exports},6826:function(t,s,i){"use strict";i("c9f9")},b83f:function(t,s,i){"use strict";i.d(s,"b",(function(){return o})),i.d(s,"a",(function(){return a})),i.d(s,"c",(function(){return r}));var n=i("41cb"),e=Object(n["e"])();function a(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"std";return e.get("/fb/boss",{params:{MapID:t,client:s}})}function o(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"std";return e.get("/fb/drop/"+t,{params:{client:s}})}function r(t,s){return e.get("/fb/drop/v2/".concat(t),{params:s})}},c9f9:function(t,s,i){}}]);
//# sourceMappingURL=chunk-9f205f2e.36dc5ad8.js.map