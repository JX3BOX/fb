(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01f81424"],{"24df":function(t,e,s){"use strict";s("d859")},"33a5":function(t){t.exports=JSON.parse('{"0":"江湖","1":"天策","2":"万花","3":"纯阳","4":"七秀","5":"少林","6":"藏剑","7":"丐帮","8":"明教","9":"五毒","10":"唐门","18":"苍云","19":"长歌","20":"霸刀","21":"蓬莱","22":"凌雪","23":"衍天","24":"药宗","26":"刀宗"}')},3483:function(t){t.exports=JSON.parse('{"5":"特殊","6":"武器","7":"装备","8":"饰品"}')},3835:function(t,e,s){"use strict";function a(t){if(Array.isArray(t))return t}s.d(e,"a",(function(){return c}));s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("14d9");function i(t,e){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var a,i,r,n,c=[],o=!0,u=!1;try{if(r=(s=s.call(t)).next,0===e){if(Object(s)!==s)return;o=!1}else for(;!(o=(a=r.call(s)).done)&&(c.push(a.value),c.length!==e);o=!0);}catch(l){u=!0,i=l}finally{try{if(!o&&null!=s["return"]&&(n=s["return"](),Object(n)!==n))return}finally{if(u)throw i}}return c}}var r=s("06c5");s("d9e2");function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){return a(t)||i(t,e)||Object(r["a"])(t,e)||n()}},"628f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-fb-drop"},[e("el-tabs",{attrs:{type:"card"},model:{value:t.mapid,callback:function(e){t.mapid=e},expression:"mapid"}},t._l(t.maplist,(function(s,a){return e("el-tab-pane",{key:a,attrs:{label:s.mode,name:s.map_id}},[e("div",{staticClass:"u-bosslist"},t._l(t.bosslist,(function(s,a){return e("div",{key:a,staticClass:"u-boss",class:{on:s.BOSS==t.boss},on:{click:function(e){return t.changeBoss(s.BOSS)}}},[e("svg",{class:"u-boss-avatar",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"833.7",height:"833.7",viewBox:"0 0 833.7 833.7","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M416.8 0C208.5.1 39.6 169 39.6 377.399V555.2c0 9.399 4.4 18.199 11.9 23.899L213.7 702.2v101.5c0 16.6 13.4 30 30 30h24.1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19h2c10.5 0 19 8.5 19 19v41.2c0 16.6 13.4 30 30 30h1c16.6 0 30-13.4 30-30v-41.2c0-10.5 8.5-19 19-19s19 8.5 19 19v41.2c0 16.6 13.4 30 30 30H590c16.6 0 30-13.4 30-30V702.1L782.2 579c7.5-5.7 11.899-14.5 11.899-23.9V377.3C794 169 625.1.1 416.8 0zM259.1 558.1c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104s104 46.601 104 104c0 57.5-46.6 104-104 104zm187.3 76.5h-59.1c-13.7 0-22.4-14.7-15.8-26.7l29.6-53.699c6.8-12.4 24.7-12.4 31.5 0l29.601 53.699c6.5 11.999-2.201 26.7-15.801 26.7zm128.1-76.5c-57.4 0-104-46.6-104-104 0-57.399 46.6-104 104-104 57.399 0 104 46.601 104 104 0 57.5-46.5 104-104 104z"}})]),t._v(" "+t._s(s.BOSS)+" ")])})),0),e("div",{staticClass:"u-schools"},t._l(t.schoolmap,(function(s,a){return e("div",{key:a,staticClass:"u-school",class:{active:a==t.school},on:{click:function(e){return t.filterBySchool(a)}}},[e("img",{staticClass:"u-school-icon",attrs:{src:t._f("showSchoolIcon")(a),alt:s}}),e("span",{staticClass:"u-school-name"},[t._v(t._s(~~a?s:"全部"))])])})),0),e("div",{staticClass:"u-droplist"},[e("div",{staticClass:"u-tabs"},[e("el-tabs",{staticClass:"u-group",attrs:{"tab-position":"left"},model:{value:t.droptype,callback:function(e){t.droptype=e},expression:"droptype"}},[e("el-tab-pane",{attrs:{label:"全部",name:""}}),t._l(t.dropmap,(function(t,s){return e("el-tab-pane",{key:s,attrs:{label:t,name:s}})}))],2)],1),t.droplist&&t.droplist.length?e("div",{staticClass:"u-drops"},t._l(t.droplist,(function(s){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible(s),expression:"isVisible(drop)"}],key:s.ItemName,staticClass:"u-item-wrapper"},[e("el-popover",{attrs:{placement:"right-end","popper-class":"u-drop-popup",width:"auto","visible-arrow":!1,trigger:"hover",transition:"none","close-delay":0}},[e("a",{staticClass:"u-item",attrs:{slot:"reference",href:t.getDropLink(s),target:"_blank"},on:{mouseenter:function(e){return t.viewDrop(s)}},slot:"reference"},[e("i",{staticClass:"u-drop-item-icon u-item-icon",class:"u-item-color-"+s.ItemQuality},[e("img",{attrs:{src:t.iconLink(s.ItemIconID)}})]),e("span",{staticClass:"u-item-name"},[t._v(t._s(s.ItemName))])]),t.focus==s.ItemID?e("jx3-item",{attrs:{item_id:s.jx3_item_id,"jx3-client-type":t.client_id}}):t._e()],1)],1)})),0):e("el-alert",{attrs:{title:"没有相关条目",type:"info","show-icon":""}})],1)])})),1)],1)},i=[],r=s("c7eb"),n=s("b85c"),c=s("1da1"),o=(s("d81d"),s("99af"),s("e9c4"),s("caad"),s("2532"),s("41cb")),u=Object(o["e"])();function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"std";return u.get("/fb/boss",{params:{MapID:t,client:e}})}function d(t,e){return u.get("/fb/drop/v2/".concat(t),{params:e})}var f=s("65c2"),h=s("3483"),m=s("85e4"),p=s("33a5"),b=s("c7fa"),v=Object(o["e"])();function _(t,e,s){return v.post("/resource/".concat(e,"/").concat(t),s)}var g={name:"DropV2",props:[],data:function(){return{mapid:"",bosslist:[],boss:"",dropmap:h,droplist:[],droptype:"",focus:"",data:{},loading:!1,school:"0",schoolmap:p}},computed:{fb:function(){return this.$route.query.fb_name||this.$store.state.default_fb},zlp:function(){return this.$route.query.fb_zlp||this.$store.state.default_zlp},client:function(){return this.$store.state.client||"std"},maplist:function(){var t,e,s,a;return null===(t=this.$store.state.map)||void 0===t||null===(e=t[this.zlp])||void 0===e||null===(s=e["dungeon"])||void 0===s||null===(a=s[this.fb])||void 0===a?void 0:a["maps"]},params:function(){return{client:this.client,BossName:this.boss}},client_id:function(){return"std"==this.client?1:2}},methods:{loadData:function(){var t=this;this.loadBossList().then((function(){t.loadDropList()}))},loadBossList:function(){var t=this;return l(this.mapid,this.client).then((function(e){t.bosslist=(null===e||void 0===e?void 0:e.data)||[],t.boss=t.bosslist[0]["BOSS"]}))},loadDropList:function(){var t=Object(c["a"])(Object(r["a"])().mark((function t(e){var s,a,i,c,o,u,l,f,h,m,p,b,v,g,y,x,C=this;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,d(this.mapid,this.params);case 4:return i=t.sent,i=null===(s=i)||void 0===s?void 0:s.data,c=i.map((function(t){return C.getDropItemID(t)})),t.next=9,_("item_merged",this.client,{ids:c});case 9:o=t.sent,o=null===(a=o)||void 0===a?void 0:a.data,u=Object(n["a"])(i);try{for(u.s();!(l=u.n()).done;)h=l.value,h.schools=null===h||void 0===h||null===(f=h.ApplicableSchoolIDs)||void 0===f?void 0:f.split("|"),h.jx3_item_id=this.getDropItemID(h)}catch(r){u.e(r)}finally{u.f()}m=Object(n["a"])(o),t.prev=14,m.s();case 16:if((p=m.n()).done){t.next=40;break}b=p.value,v="item-".concat(this.client,"-").concat(b.id),sessionStorage.setItem(v,JSON.stringify(b)),g=Object(n["a"])(i),t.prev=21,g.s();case 23:if((y=g.n()).done){t.next=30;break}if(x=y.value,x.jx3_item_id!=b.id){t.next=28;break}return x.jx3_item=b,t.abrupt("break",30);case 28:t.next=23;break;case 30:t.next=35;break;case 32:t.prev=32,t.t0=t["catch"](21),g.e(t.t0);case 35:return t.prev=35,g.f(),t.finish(35);case 38:t.next=16;break;case 40:t.next=45;break;case 42:t.prev=42,t.t1=t["catch"](14),m.e(t.t1);case 45:return t.prev=45,m.f(),t.finish(45);case 48:this.droplist=i,t.next=56;break;case 51:t.prev=51,t.t2=t["catch"](0),this.$message.error("数据获取失败，请稍后再试"),this.boss=e,console.log(t.t2);case 56:return t.prev=56,this.loading=!1,t.finish(56);case 59:case"end":return t.stop()}}),t,this,[[0,51,56,59],[14,42,45,48],[21,32,35,38]])})));function e(e){return t.apply(this,arguments)}return e}(),changeBoss:function(t){var e=this.boss;this.boss=t,this.loadDropList(e)},getDropItemID:function(t){return t.ItemExtID?"".concat(t.ItemType,"_").concat(t.ItemID,"_").concat(t.ItemExtID):"".concat(t.ItemType,"_").concat(t.ItemID)},getDropLink:function(t){return Object(m["getLink"])("item",t.jx3_item_id)},filterBySchool:function(t){this.school=t},isVisible:function(t){var e,s=!~~this.school||(null===(e=t.schools)||void 0===e?void 0:e.includes(this.school)),a=!1;return 5==this.droptype?("other"==t.jx3_item.Source&&(a=!0),"trinket"==t.jx3_item.Source&&[5,20,22].includes(~~t.jx3_item.AucGenre)&&(a=!0)):[6,7,8].includes(~~this.droptype)?a=("trinket"!=t.jx3_item.Source||![5,20,22].includes(~~t.jx3_item.AucGenre))&&~~t.ItemType==this.droptype:~~this.droptype||(a=!0),a&&s},viewDrop:function(t){this.focus=t.ItemID},iconLink:function(t){return Object(m["iconLink"])(t,this.client)}},watch:{fb:{immediate:!0,handler:function(){var t;this.mapid=null===(t=this.maplist)||void 0===t?void 0:t[0]["map_id"],this.loadData()}},mapid:{handler:function(t){t&&this.loadData()}},"$route.query.mapid":{immediate:!0,handler:function(t){t&&(this.mapid=t)}},"$route.query.boss":{immediate:!0,handler:function(t){t&&(this.boss=t)}}},filters:{showSchoolIcon:function(t){return f["__imgPath"]+"image/school/"+t+".png"}},components:{"jx3-item":b["a"]}},y=g,x=(s("e2be"),s("2877")),C=Object(x["a"])(y,a,i,!1,null,null,null);e["default"]=C.exports},"6a88":function(t,e,s){},c10e:function(t){t.exports=JSON.parse('{"remarks":["这个文件用于存储游戏内的字体ini","但是由于大部分场景下我们只需要字体的颜色","而且存在着很多个字体id对应同一种颜色的情况","所以用颜色作为键，值是一个数组，包含着颜色是键值的所有字体ID"],"#ffffff":["0","2","3","5","7","9","10","13","15","18","22","26","28","37","40","41","42","44","106","135","162","175","190","197","203","207","210","211","212","213","214","216","227","228","230","231","232","233","234","238","244","245","247","248","250","254","257","259","263","264","272","273","276","292","300","301","303","304","310","324","327","329","331","332","336","339","343","344","362","371"],"#000000":["1","6","29","38","43","156","160","180","191","225","260","269","288","326"],"#282828":["4","296","312"],"#ffff00":["8","11","14","16","23","27","31","48","59","65","99","100","136","163","187","188","200","201","204","236","241","258","289","306","315","328","330","334","372"],"#ff7e7e":["12","17","51","52","53","54","55","56","57","58","70","85","86","87","88","89","90","91","92","93","94","95","96","97","98","111","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","178","179","279","320","370"],"#a3b06a":["19","39","66"],"#ff0000":["20","33","71","102","137","159","166","217","219","270","308","317"],"#00c848":["21","36","80","105","165","167","222","226","287","316","365","369"],"#ff9600":["24","32","68","101","164","168","237","256","318","335","366"],"#adadad":["25","30","61","108","132","161","169","220","319","333"],"#df12c9":["34","74","103","367"],"#007eff":["35","77","104","285","323","368"],"#cfcfcf":["45","60","107","131","189","215","221","223","261","283","374"],"#969696":["46","62","109","133","218"],"#04d1b6":["47"],"#fff78e":["49","155"],"#636363":["50","63","110","134","313"],"#ffffbb":["64","177","182","185","239","375"],"#ffca7e":["67","157","266","321"],"#a96300":["69","158","240","307"],"#a90000":["72","337","338","340"],"#ca7eff":["73","112","195","278","305"],"#5e1ba0":["75","181"],"#7e7eff":["76","113","193"],"#0000a9":["78"],"#7ee3a3":["79","139","176","192","194","282"],"#00842f":["81","138"],"#e68c00":["82","294","295","325"],"#dc1e00":["83"],"#968c00":["84"],"#606000":["170"],"#1e366c":["171"],"#8b2e1c":["172","293","299"],"#105830":["173","309"],"#45544b":["174"],"#1e68fe":["183"],"#ef370c":["184","208","235"],"#4cdf15":["186","229"],"#ff0012":["196","199"],"#4fff6c":["198"],"#33f3ff":["202","205","252","253","262"],"#30bdd6":["206","281"],"undefined":["209"],"#fbeab7":["224","274","275","311","342"],"#453d2a":["242","341"],"#bafbdf":["243","246","249","255"],"#ffde00":["251","271","280"],"#96cedf":["265"],"#fab07e":["267"],"#e8c368":["268"],"#99452b":["277"],"#0b0b0b":["284"],"#df11c9":["286"],"#3e281b":["290","291","373"],"#493c23":["297","298"],"#46332b":["302","314","349"],"#92de5f":["322"],"#776859":["345","352"],"#735c3c":["346","347","355","356"],"#615044":["348"],"#513301":["350","354","357"],"#ece4cc":["351"],"#fef9e7":["353"],"#92bcb4":["358"],"#6fa497":["359"],"#bce5db":["360"],"#e3d7c7":["361"],"#95b9ba":["363"],"#a9a7a3":["364"]}')},c547:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("span",{domProps:{innerHTML:t._s(t.html)}})},i=[],r=s("c7eb"),n=s("3835"),c=s("1da1"),o=s("b85c"),u=(s("ac1f"),s("5319"),s("d3b7"),s("99af"),s("caad"),s("2532"),s("b0c0"),s("466d"),s("14d9"),s("ddb0"),s("e9c4"),s("85e4")),l=s("41cb");const d=Object(l["e"])();function f(t,e,s="std"){return d.post(`/resource/${s}/${t}/`,{ids:e})}var h=s("2ef0"),m={name:"GameText",props:{text:{type:String,default:""},ignoreColor:{type:Boolean,default:!1},client:{type:String,default:"std"}},data:function(){return{html:""}},methods:{renderItemHtml:function(t){var e=t.text,a="",i=null;if(e=e.replace(/\\n/g,"<br />").replace(/\\/g,""),[t.r,t.g,t.b].every((function(t){return void 0!=t&&t>0})))a="color: rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,");");else if(void 0!=t.font&&100!=t.font){var r=s("c10e");for(var n in r)if(r[n].includes(t.font)){a="color: ".concat(n,";");break}}if("iteminfolink"==t.name&&t.script){var c,o,l,d,f=null===(c=t.script)||void 0===c||null===(o=c.match(/this\.dwTabType=(\d+)/i))||void 0===o?void 0:o[1],h=null===(l=t.script)||void 0===l||null===(d=l.match(/this\.dwIndex=(\d+)/i))||void 0===d?void 0:d[1];if(f&&h){var m="".concat(f,"_").concat(h);i=Object(u["getLink"])("item",m)}}return this.ignoreColor&&(a=""),i?'<a style="'.concat(a,' text-decoration: none;" target="_blank" href="').concat(i,'">').concat(e,"</a>"):'<span style="'.concat(a,'">').concat(e,"</span>")},renderImageHtml:function(t){var e=t.match(/<image>([\s\S]*?)<\/image>/gim);if(!e)return t;var s,a=Object(o["a"])(e);try{for(a.s();!(s=a.n()).done;){var i,r,n,c=s.value,l=null===(i=c.match(/frame=(\d+)/i))||void 0===i?void 0:i[1],d=parseInt(null===(r=c.match(/w=(\d+)/i))||void 0===r?void 0:r[1])/1.12,f=parseInt(null===(n=c.match(/h=(\d+)/i))||void 0===n?void 0:n[1])/1.12,h=Object(u["iconLink"])(l,this.client),m='<img src="'.concat(h,'" style="width: ').concat(d,"px; height: ").concat(f,'px; margin-bottom: -5px" />');t=t.replace(c,m)}}catch(p){a.e(p)}finally{a.f()}return t},renderTextHtml:function(t){var e=t;e=this.renderImageHtml(e);var s=t.match(/<Text>([\s\S]*?)<\/text>/gim);if(!s)return t;var a,i=Object(o["a"])(s);try{for(i.s();!(a=i.n()).done;){var r=a.value,n=Object(u["extractTextContent"])(r),c=this.renderItemHtml(n[0]);e=e.replace(r,c)}}catch(l){i.e(l)}finally{i.f()}return e},renderBuffResource:function(){var t=Object(c["a"])(Object(r["a"])().mark((function t(){var e,s,a,i,c,u,l,d,f,m,p,b,v,_,g,y,x,C,k,S,w,$,O,j,D,I,P,M,B,A,L;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=null===(e=this.html)||void 0===e?void 0:e.match(/<BUFF (\d+) (\d+) (.*?)>/gim),s){t.next=3;break}return t.abrupt("return");case 3:a=[],i={},c=Object(o["a"])(s);try{for(c.s();!(u=c.n()).done;)l=u.value,d=l.match(/<BUFF (\d+) (\d+) (.*?)>/i),f=Object(n["a"])(d,4),m=f[0],p=f[1],b=f[2],v=f[3],a.push("".concat(p,"_").concat(b)),0!=b&&a.push("".concat(p,"_0")),i[m]=[p,b,v]}catch(R){c.e(R)}finally{c.f()}return t.next=9,this.getAllResources("buff",a,this.client);case 9:t.t0=Object(r["a"])().keys(i);case 10:if((t.t1=t.t0()).done){t.next=37;break}if(_=t.t1.value,g=Object(n["a"])(i[_],3),y=g[0],x=g[1],C=g[2],"time"!==C){t.next=25;break}if(k=void 0,S=this.getResource("buff",y,x),k=S["Interval"]?S["Interval"]:this.getResource("buff",y,0)["Interval"],k){t.next=21;break}return console.log(_,Object(h["escape"])(_)),this.html=this.html.replace(_,Object(h["escape"])(_)),t.abrupt("continue",10);case 21:return w=k/16,w>60?w=Math.floor(w/60)+"分钟":w+="秒",this.html=this.html.replace(_,Object(h["escape"])(w)),t.abrupt("continue",10);case 25:if("desc"!==C){t.next=35;break}if($=this.getResource("buff",y,x),O=$["Desc"],O||(O=this.getResource("buff",y,0)["Desc"]),O){t.next=32;break}return this.html=this.html.replace(_,Object(h["escape"])(_)),t.abrupt("continue",10);case 32:if(j=O.match(/<BUFF ([0-9a-zA-Z]+)>/gi),j){D=Object(o["a"])(j);try{for(D.s();!(I=D.n()).done;)for(P=I.value,M=P.match(/<BUFF ([0-9a-zA-Z]+)>/i),B=Object(n["a"])(M,2),B[0],A=B[1],L=1;L<15;L++)$["BeginAttrib".concat(L)]==A&&(O=O.replace(P,$["BeginValue".concat(L,"A")]))}catch(R){D.e(R)}finally{D.f()}}this.html=this.html.replace(_,O);case 35:t.next=10;break;case 37:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),renderEnchantResource:function(){var t=Object(c["a"])(Object(r["a"])().mark((function t(){var e,s,a,i,n,c,u,l,d,f,m,p;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.html.match(/<ENCHANT (\d+)>/gim),e){t.next=3;break}return t.abrupt("return");case 3:s=[],a={},i=Object(o["a"])(e);try{for(i.s();!(n=i.n()).done;)c=n.value,u=c.match(/<ENCHANT (\d+)>/i)[1],s.push(u),a[c]=u}catch(r){i.e(r)}finally{i.f()}return t.next=9,this.getAllResources("enchant",s,this.client);case 9:for(l in a)try{d=a[l],f=this.getResource("enchant",d),m=f.Time,m&&(m="，持续".concat(parseInt(m)/60,"分钟。")),p="".concat(f.AttriName).concat(m||""),this.html=this.html.replace(l,p)}catch(b){console.log(b),this.html=this.html.replace(l,Object(h["escape"])(l))}case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),renderResource:function(){this.renderBuffResource(),this.renderEnchantResource()},getAllResources:function(){var t=Object(c["a"])(Object(r["a"])().mark((function t(e,s){var a,i,n,c,u,l,d,h,m,p;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f(e,s,this.client);case 2:if(a=t.sent,i=a.data,void 0===i.length&&(i=[i]),"buff"==e){n=Object(o["a"])(i);try{for(n.s();!(c=n.n()).done;)u=c.value,l="".concat(u.BuffID,"_").concat(u.Level),sessionStorage.setItem("buff-".concat(this.client,"-").concat(l),JSON.stringify(u))}catch(r){n.e(r)}finally{n.f()}}else if("enchant"==e){d=Object(o["a"])(i);try{for(d.s();!(h=d.n()).done;)m=h.value,p="".concat(m.ID),sessionStorage.setItem("enchant-".concat(this.client,"-").concat(p),JSON.stringify(m))}catch(r){d.e(r)}finally{d.f()}}case 6:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),getResource:function(t,e,s){var a="".concat(e);"buff"==t&&(a="".concat(e,"_").concat(s));var i=sessionStorage.getItem("".concat(t,"-").concat(this.client,"-").concat(a));return i?JSON.parse(i):null}},watch:{text:{immediate:!0,handler:function(t){t&&(this.html=this.renderTextHtml(t),this.renderResource())}}}},p=m,b=s("2877"),v=Object(b["a"])(p,a,i,!1,null,null,null);e["a"]=v.exports},c7fa:function(t,e,s){"use strict";s("99af"),s("b0c0"),s("ac1f"),s("5319");var a=function(){var t=this,e=t._self._c;return t.source?e("div",{staticClass:"c-item",class:{"c-item-equipment":t.source.AucGenre>=1&&t.source.AucGenre<=4,"c-item-furniture":21==t.source.AucGenre}},[e("div",{staticClass:"c-item-wrapper"},[t.source.MaxStrengthLevel?e("div",{staticClass:"u-max-strength-level"},[e("span",{domProps:{textContent:t._s("精炼等级：0 / ".concat(t.source.MaxStrengthLevel))}})]):t._e(),e("div",{staticClass:"u-title",style:{color:t.color(t.source.Quality)},domProps:{textContent:t._s(t.source.Name)}}),t.source.BindType>1?e("div",{staticClass:"u-bind",domProps:{textContent:t._s(t.bind(t.source.BindType))}}):t._e(),1===parseInt(t.source.MaxExistAmount)?e("div",{staticClass:"unique",domProps:{textContent:t._s("唯一")}}):t._e(),parseInt(t.source.MaxExistTime)>0?e("div",{staticClass:"u-max-exist-time",domProps:{textContent:t._s("限时时间："+t.showDuration(t.source.MaxExistTime))}}):t._e(),parseInt(t.source.MaxExistAmount)>1?e("div",{staticClass:"u-max-exist-amount",domProps:{textContent:t._s("最大拥有数："+t.source.MaxExistAmount)}}):t._e(),1==t.source.AucGenre?e("div",{staticClass:"u-weapon-type-label"},[t._v("近身武器")]):t._e(),2==t.source.AucGenre?e("div",{staticClass:"u-weapon-type-label"},[t._v("远程武器")]):t._e(),t.source.TypeLabel?e("div",{staticClass:"u-type-label",domProps:{textContent:t._s(t.source.TypeLabel)}}):t._e(),t.source.attributes&&t.source.attributes.length?e("div",{staticClass:"u-attributes"},t._l(t.source.attributes,(function(s,a){return e("div",{key:a,staticClass:"u-field",class:["u-".concat(s.color)]},["atMeleeWeaponAttackSpeedBase"==s.type||"atRangeWeaponAttackSpeedBase"==s.type?e("span",{staticClass:"u-value u-speed",domProps:{textContent:t._s(s.label)}}):"atHorseAttribute"==s.type?e("span",{staticClass:"u-value u-horse-attribute"},[s.icon_id>0?e("img",{staticClass:"u-horse-icon",attrs:{src:t.iconLink(s.icon_id)}}):t._e(),e("div",{staticClass:"u-horse-desc",domProps:{innerHTML:t._s(s.label)}})]):e("span",{staticClass:"u-value"},[e("game-text",{attrs:{text:s.label}})],1)])})),0):t._e(),t.source.furniture_attributes?e("div",{staticClass:"u-furniture-attributes"},[t.source.furniture_attributes.view?e("div",{staticClass:"u-field u-green"},[e("span",{staticClass:"u-value",domProps:{textContent:t._s("观赏提高".concat(t.source.furniture_attributes.view))}})]):t._e(),t.source.furniture_attributes.practical?e("div",{staticClass:"u-field u-green"},[e("span",{staticClass:"u-value",domProps:{textContent:t._s("实用提高".concat(t.source.furniture_attributes.practical))}})]):t._e(),t.source.furniture_attributes.hard?e("div",{staticClass:"u-field u-green"},[e("span",{staticClass:"u-value",domProps:{textContent:t._s("坚固提高".concat(t.source.furniture_attributes.hard))}})]):t._e(),t.source.furniture_attributes.geomantic?e("div",{staticClass:"u-field u-green"},[e("span",{staticClass:"u-value",domProps:{textContent:t._s("风水提高".concat(t.source.furniture_attributes.geomantic))}})]):t._e(),t.source.furniture_attributes.interesting?e("div",{staticClass:"u-field u-green"},[e("span",{staticClass:"u-value",domProps:{textContent:t._s("趣味提高".concat(t.source.furniture_attributes.interesting))}})]):t._e()]):t._e(),t.source.Diamonds?e("ul",{staticClass:"u-diamonds u-gray"},[t._l(t.source.Diamonds,(function(s,a){return e("li",{key:a,staticClass:"u-diamond"},[e("span",{staticClass:"u-square"}),e("span",{staticClass:"u-text",domProps:{textContent:t._s("镶嵌孔：".concat(s))}})])})),1==t.source.AucGenre?e("li",{staticClass:"u-diamond"},[e("span",{staticClass:"u-square"}),e("span",{staticClass:"u-text"},[t._v("<只能镶嵌五彩石>")])]):t._e()],2):t._e(),t.source.Requires&&t.source.Requires[7]?e("div",{staticClass:"u-require-sex",domProps:{textContent:t._s(t.source.Requires[7])}}):t._e(),t.source.Requires&&t.source.Requires[6]?e("div",{staticClass:"u-require-school",domProps:{textContent:t._s(t.source.Requires[6])}}):t._e(),t.source.Requires&&t.source.Requires[5]?e("div",{staticClass:"u-require-level",domProps:{textContent:t._s(t.source.Requires[5])}}):t._e(),t.source.Requires&&t.source.Requires[100]?e("div",{staticClass:"u-require-camp",domProps:{textContent:t._s(t.source.Requires[100])}}):t._e(),t.source.Requires&&t.source.Requires[101]?e("div",{staticClass:"u-require-homeland-level",domProps:{textContent:t._s(t.source.Requires[101])}}):t._e(),t.source.AucGenre>=1&&t.source.AucGenre<=3?e("div",{staticClass:"u-max-durability",domProps:{textContent:t._s("最大耐久度"+t.source.MaxDurability)}}):t._e(),t.source.Set?e("div",{staticClass:"u-set"},[e("br"),e("div",{staticClass:"u-yellow",domProps:{textContent:t._s("".concat(t.source.Set.name,"(1/").concat(t.source.Set.siblings.length,")"))}}),e("ul",{staticClass:"u-set-siblings u-gray"},t._l(t.source.Set.siblings,(function(s,a){return e("li",{key:a,class:{"u-yellow":s==t.source.Name},domProps:{textContent:t._s(s)}})})),0),e("br"),e("ul",{staticClass:"u-set-attributes u-gray"},t._l(t.source.Set.attributes,(function(s,a){return e("li",{key:a},[e("span",[t._v(t._s("[".concat(a,"]")))]),e("game-text",{attrs:{client:t.client,text:s,"ignore-color":!0}})],1)})),0),e("br")]):t._e(),t.source.ImageUrl?e("div",{staticClass:"u-image-url"},[e("img",{attrs:{src:t.source.ImageUrl},on:{"~error":function(e){t.source.ImageUrl=null}}})]):t._e(),t.source.Desc?e("p",{staticClass:"u-desc u-yellow"},[e("game-text",{attrs:{client:t.client,text:t.source.Desc}})],1):t._e(),t.source.WuCaiHtml?e("p",{staticClass:"u-desc",domProps:{innerHTML:t._s(t.source.WuCaiHtml)}}):t._e(),t.source.Level?e("div",{staticClass:"u-level u-yellow",domProps:{textContent:t._s("品质等级"+t.source.Level)}}):t._e(),t.source.EquipmentRating?e("div",{staticClass:"u-equipment-rating u-orange",domProps:{textContent:t._s("装备分数"+t.source.EquipmentRating)}}):t._e(),t.source.Recommend?e("div",{staticClass:"u-equipment-recommend",domProps:{textContent:t._s("推荐门派："+t.source.Recommend)}}):t._e(),t.source.CoolDown?e("div",{staticClass:"u-equipment-recommend",domProps:{textContent:t._s("使用间隔"+t.second_format(t.source.CoolDown))}}):t._e(),t.source.Appearance?e("div",{staticClass:"u-appearance",domProps:{textContent:t._s("外观名称："+t.source.Appearance)}}):t._e(),t.source.CanExterior?e("div",{staticClass:"u-can-exterior",domProps:{textContent:t._s("外观："+t.source.CanExterior)}}):t._e(),!t.source.CanShared||t.source.AucGenre>=1&&t.source.AucGenre<=4?t._e():e("div",{staticClass:"u-can-shared"},[t._v("该物品可以放入账号储物箱共享。")]),t.source.CanShared&&t.source.AucGenre>=1&&t.source.AucGenre<=4?e("div",{staticClass:"u-can-shared"},[t._v("该装备未精炼、镶嵌、附魔、穿戴前可以放入账号储物箱共享。")]):t._e(),t.source.furniture_attributes?e("div",{staticClass:"u-furniture-can"},[t.source.furniture_attributes.interact?e("span",[t._v("可交互")]):t._e(),t.source.furniture_attributes.scale_range?e("span",{domProps:{textContent:t._s("可缩放(".concat(t.source.furniture_attributes.scale_range.replace(";"," - "),"倍)"))}}):t._e()]):t._e(),t.source.GetType?e("div",{staticClass:"u-get-type",domProps:{textContent:t._s("物品来源：".concat(t.source.GetType))}}):t._e()])]):t._e()},i=[],r=(s("a9e3"),s("caad"),s("2532"),s("b680"),s("e9c4"),s("41cb"));function n(t,e){if(!t)return;let s={url:"/api/item/"+t,params:{client:e}};return Object(r["b"])({mute:!0})(s)}var c=s("c547"),o=(t,e)=>{let s="";switch(e=e?parseInt(e):0,t){case"atAllTypeCriticalStrike":case"atLunarCriticalStrike":case"atMagicCriticalStrike":case"atNeutralCriticalStrike":case"atPhysicsCriticalStrike":case"atPoisonCriticalStrike":case"atSolarAndLunarCriticalStrike":case"atSolarCriticalStrike":s=`+${(e/35737.5*100).toFixed(2)}%`;break;case"atAllTypeCriticalDamagePowerBase":case"atLunarCriticalDamagePowerBase":case"atMagicCriticalDamagePowerBase":case"atNeutralCriticalDamagePowerBase":case"atPhysicsCriticalDamagePowerBase":case"atPoisonCriticalDamagePowerBase":case"atSolarAndLunarCriticalDamagePowerBase":case"atSolarCriticalDamagePowerBase":s=`+${(e/12506.25*100).toFixed(2)}%`;break;case"atToughnessBase":s=`+${(e/35737.5*100).toFixed(2)}% +${(e/9588.75*100).toFixed(2)}%会心减害`;break;case"atDecriticalDamagePowerBase":s="";break;case"atAllTypeHitValue":case"atLunarHitValue":case"atMagicHitValue":case"atNeutralHitValue":case"atPhysicsHitValue":case"atPoisonHitValue":case"atSolarAndLunarHitValue":case"atSolarHitValue":s=`+${(e/25991.25*100).toFixed(2)}%`;break;case"atDodge":s="";break;case"atParryBase":s="";break;case"atStrainBase":s=`+${(e/34458.75*100).toFixed(2)}%`;break;case"atPhysicsDefenceAdd":case"atPhysicsShieldAdditional":case"atPhysicsShieldBase":s="";break;case"atLunarMagicShieldBase":case"atMagicShield":case"atNeutralMagicShieldBase":case"atPoisonMagicShieldBase":case"atSolarMagicShieldBase":s="";break;case"atLunarOvercomeBase":case"atMagicOvercome":case"atNeutralOvercomeBase":case"atPhysicsOvercomeBase":case"atPoisonOvercomeBase":case"atSolarAndLunarOvercomeBase":case"atSolarOvercomeBase":s=`+${(e/35737.5*100).toFixed(2)}%`;break;case"atHasteBase":s=`+${(e/43856.25*100).toFixed(2)}%`;break;default:break}return s?` (${s})`:""},u=t=>{switch(t){case 1:return"不绑定";case 2:return"装备后绑定";case 3:return"拾取后绑定";default:return"未知"}},l=t=>{switch(t=parseInt(t),t){case 0:return"rgb(167,167,167)";case 1:return"rgb(255,255,255)";case 2:return"rgb(0,210,75)";case 3:return"rgb(0,126,255)";case 4:return"rgb(254,45,254)";case 5:return"rgb(255,165,0)";default:return"rgb(167,167,167)"}},d=s("85e4"),f=t=>{let e=Math.floor(t/86400),s=Math.floor((t-24*e*3600)/3600),a=Math.floor((t-24*e*3600-3600*s)/60);t=t-24*e*3600-3600*s-60*a;let i="";return e&&(i+=e+"天"),s&&(i+=s+"小时"),a&&(i+=a+"分钟"),t&&(i+=t+"秒"),i},h=s("5a0c"),m=s.n(h),p=s("d772"),b=s.n(p);m.a.extend(b.a);var v={name:"Item",props:{item:{type:Object},item_id:{type:String},client:{type:String},jx3ClientType:{type:Number}},data:function(){return{source:null}},components:{GameText:c["a"]},computed:{env_client_id:function(){return location.href.includes("origin")?2:1},client_id:function(){return this.jx3ClientType||this.env_client_id},client_by_id:function(){return 1==this.client_id?"std":"origin"},final_client:function(){return this.client||this.client_by_id},cache_key:function(){return"item-".concat(this.final_client,"-").concat(this.item_id)}},methods:{iconLink:function(t){return Object(d["iconLink"])(t,this.final_client)},second_format:f,showDuration:function(t){return t=Number(t),t&&m.a.duration(t).asDays().toFixed(0)+"天"},attribute_percent:o,bind:u,color:l,formatDescHtml:function(t){return t.replace(/font=\d+\s>/g,"")}},watch:{item:{immediate:!0,handler:function(){"undefined"!==typeof this.item&&(this.source=this.item)}},item_id:{immediate:!0,handler:function(t){var e=this;if(t){var s=sessionStorage.getItem(this.cache_key);if(s)try{this.source=JSON.parse(s)}catch(a){console.log(a,"[Item]无法解析本地缓存")}else n(this.item_id,this.final_client).then((function(t){var s=t.data;if(200===s.code){var a=s.data.item,i="{}"!==JSON.stringify(a);i?(e.source=a,sessionStorage.setItem(e.cache_key,JSON.stringify(e.source))):e.source=null}}))}}}}},_=v,g=(s("24df"),s("2877")),y=Object(g["a"])(_,a,i,!1,null,null,null);e["a"]=y.exports},d772:function(t,e,s){!function(e,s){t.exports=s()}(0,(function(){"use strict";var t,e,s=1e3,a=6e4,i=36e5,r=864e5,n=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,o=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:c,months:o,days:r,hours:i,minutes:a,seconds:s,milliseconds:1,weeks:6048e5},d=function(t){return t instanceof _},f=function(t,e,s){return new _(t,s,e.$l)},h=function(t){return e.p(t)+"s"},m=function(t){return t<0},p=function(t){return m(t)?Math.ceil(t):Math.floor(t)},b=function(t){return Math.abs(t)},v=function(t,e){return t?m(t)?{negative:!0,format:""+b(t)+e}:{negative:!1,format:""+t+e}:{negative:!1,format:""}},_=function(){function m(t,e,s){var a=this;if(this.$d={},this.$l=s,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),e)return f(t*l[h(e)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(e){a.$d[h(e)]=t[e]})),this.calMilliseconds(),this;if("string"==typeof t){var i=t.match(u);if(i){var r=i.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var b=m.prototype;return b.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(e,s){return e+(t.$d[s]||0)*l[s]}),0)},b.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=p(t/c),t%=c,this.$d.months=p(t/o),t%=o,this.$d.days=p(t/r),t%=r,this.$d.hours=p(t/i),t%=i,this.$d.minutes=p(t/a),t%=a,this.$d.seconds=p(t/s),t%=s,this.$d.milliseconds=t},b.toISOString=function(){var t=v(this.$d.years,"Y"),e=v(this.$d.months,"M"),s=+this.$d.days||0;this.$d.weeks&&(s+=7*this.$d.weeks);var a=v(s,"D"),i=v(this.$d.hours,"H"),r=v(this.$d.minutes,"M"),n=this.$d.seconds||0;this.$d.milliseconds&&(n+=this.$d.milliseconds/1e3);var c=v(n,"S"),o=t.negative||e.negative||a.negative||i.negative||r.negative||c.negative,u=i.format||r.format||c.format?"T":"",l=(o?"-":"")+"P"+t.format+e.format+a.format+u+i.format+r.format+c.format;return"P"===l||"-P"===l?"P0D":l},b.toJSON=function(){return this.toISOString()},b.format=function(t){var s=t||"YYYY-MM-DDTHH:mm:ss",a={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return s.replace(n,(function(t,e){return e||String(a[t])}))},b.as=function(t){return this.$ms/l[h(t)]},b.get=function(t){var e=this.$ms,s=h(t);return"milliseconds"===s?e%=1e3:e="weeks"===s?p(e/l[s]):this.$d[s],0===e?0:e},b.add=function(t,e,s){var a;return a=e?t*l[h(e)]:d(t)?t.$ms:f(t,this).$ms,f(this.$ms+a*(s?-1:1),this)},b.subtract=function(t,e){return this.add(t,e,!0)},b.locale=function(t){var e=this.clone();return e.$l=t,e},b.clone=function(){return f(this.$ms,this)},b.humanize=function(e){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},b.milliseconds=function(){return this.get("milliseconds")},b.asMilliseconds=function(){return this.as("milliseconds")},b.seconds=function(){return this.get("seconds")},b.asSeconds=function(){return this.as("seconds")},b.minutes=function(){return this.get("minutes")},b.asMinutes=function(){return this.as("minutes")},b.hours=function(){return this.get("hours")},b.asHours=function(){return this.as("hours")},b.days=function(){return this.get("days")},b.asDays=function(){return this.as("days")},b.weeks=function(){return this.get("weeks")},b.asWeeks=function(){return this.as("weeks")},b.months=function(){return this.get("months")},b.asMonths=function(){return this.as("months")},b.years=function(){return this.get("years")},b.asYears=function(){return this.as("years")},m}();return function(s,a,i){t=i,e=i().$utils(),i.duration=function(t,e){var s=i.locale();return f(t,{$l:s},e)},i.isDuration=d;var r=a.prototype.add,n=a.prototype.subtract;a.prototype.add=function(t,e){return d(t)&&(t=t.asMilliseconds()),r.bind(this)(t,e)},a.prototype.subtract=function(t,e){return d(t)&&(t=t.asMilliseconds()),n.bind(this)(t,e)}}}))},d859:function(t,e,s){},e2be:function(t,e,s){"use strict";s("6a88")}}]);
//# sourceMappingURL=chunk-01f81424.bef72ad9.js.map