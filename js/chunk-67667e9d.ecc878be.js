(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67667e9d"],{"25f0":function(e,t,n){"use strict";var r=n("5e77").PROPER,c=n("cb2d"),a=n("825a"),o=n("577e"),f=n("d039"),i=n("90d8"),l="toString",u=RegExp.prototype,d=u[l],s=f((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),h=r&&d.name!=l;(s||h)&&c(RegExp.prototype,l,(function(){var e=a(this),t=o(e.source),n=o(i(e));return"/"+t+"/"+n}),{unsafe:!0})},3835:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return f}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,c,a=[],o=!0,f=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(i){f=!0,c=i}finally{try{o||null==n["return"]||n["return"]()}finally{if(f)throw c}}return a}}var a=n("06c5");n("d9e2");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return r(e)||c(e,t)||Object(a["a"])(e,t)||o()}},"466d":function(e,t,n){"use strict";var r=n("c65b"),c=n("d784"),a=n("825a"),o=n("7234"),f=n("50c4"),i=n("577e"),l=n("1d80"),u=n("dc4a"),d=n("8aa5"),s=n("14c3");c("match",(function(e,t,n){return[function(t){var n=l(this),c=o(t)?void 0:u(t,e);return c?r(c,t,n):new RegExp(t)[e](i(n))},function(e){var r=a(this),c=i(e),o=n(t,r,c);if(o.done)return o.value;if(!r.global)return s(r,c);var l=r.unicode;r.lastIndex=0;var u,h=[],b=0;while(null!==(u=s(r,c))){var v=i(u[0]);h[b]=v,""===v&&(r.lastIndex=d(c,f(r.lastIndex),l)),b++}return 0===b?null:h}]}))},"4d63":function(e,t,n){var r=n("83ab"),c=n("da84"),a=n("e330"),o=n("94ca"),f=n("7156"),i=n("9112"),l=n("241c").f,u=n("3a9b"),d=n("44e7"),s=n("577e"),h=n("90d8"),b=n("9f7f"),v=n("aeb0"),p=n("cb2d"),m=n("d039"),g=n("1a2d"),y=n("69f3").enforce,x=n("2626"),w=n("b622"),E=n("fce3"),R=n("107c"),O=w("match"),k=c.RegExp,I=k.prototype,T=c.SyntaxError,j=a(I.exec),A=a("".charAt),S=a("".replace),B=a("".indexOf),F=a("".slice),_=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,H=/a/g,N=/a/g,U=new k(H)!==H,C=b.MISSED_STICKY,P=b.UNSUPPORTED_Y,D=r&&(!U||C||E||R||m((function(){return N[O]=!1,k(H)!=H||k(N)==N||"/a/i"!=k(H,"i")}))),J=function(e){for(var t,n=e.length,r=0,c="",a=!1;r<=n;r++)t=A(e,r),"\\"!==t?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),c+=t):c+="[\\s\\S]":c+=t+A(e,++r);return c},L=function(e){for(var t,n=e.length,r=0,c="",a=[],o={},f=!1,i=!1,l=0,u="";r<=n;r++){if(t=A(e,r),"\\"===t)t+=A(e,++r);else if("]"===t)f=!1;else if(!f)switch(!0){case"["===t:f=!0;break;case"("===t:j(_,F(e,r+1))&&(r+=2,i=!0),c+=t,l++;continue;case">"===t&&i:if(""===u||g(o,u))throw new T("Invalid capture group name");o[u]=!0,a[a.length]=[u,l],i=!1,u="";continue}i?u+=t:c+=t}return[c,a]};if(o("RegExp",D)){for(var M=function(e,t){var n,r,c,a,o,l,b=u(I,this),v=d(e),p=void 0===t,m=[],g=e;if(!b&&v&&p&&e.constructor===M)return e;if((v||u(I,e))&&(e=e.source,p&&(t=h(g))),e=void 0===e?"":s(e),t=void 0===t?"":s(t),g=e,E&&"dotAll"in H&&(r=!!t&&B(t,"s")>-1,r&&(t=S(t,/s/g,""))),n=t,C&&"sticky"in H&&(c=!!t&&B(t,"y")>-1,c&&P&&(t=S(t,/y/g,""))),R&&(a=L(e),e=a[0],m=a[1]),o=f(k(e,t),b?this:I,M),(r||c||m.length)&&(l=y(o),r&&(l.dotAll=!0,l.raw=M(J(e),n)),c&&(l.sticky=!0),m.length&&(l.groups=m)),e!==g)try{i(o,"source",""===g?"(?:)":g)}catch(x){}return o},z=l(k),Y=0;z.length>Y;)v(M,k,z[Y++]);I.constructor=M,M.prototype=I,p(c,"RegExp",M,{constructor:!0})}x("RegExp")},"90d8":function(e,t,n){var r=n("c65b"),c=n("1a2d"),a=n("3a9b"),o=n("ad6d"),f=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in f||c(e,"flags")||!a(f,e)?t:r(o,e)}},c10e:function(e){e.exports=JSON.parse('{"remarks":["这个文件用于存储游戏内的字体ini","但是由于大部分场景下我们只需要字体的颜色","而且存在着很多个字体id对应同一种颜色的情况","所以用颜色作为键，值是一个数组，包含着颜色是键值的所有字体ID"],"#ffffff":["0","2","3","5","7","9","10","13","15","18","22","26","28","37","40","41","42","44","106","135","162","175","190","197","203","207","210","211","212","213","214","216","227","228","230","231","232","233","234","238","244","245","247","248","250","254","257","259","263","264","272","273","276","292","300","301","303","304","310","324","327","329","331","332","336","339","343","344","362","371"],"#000000":["1","6","29","38","43","156","160","180","191","225","260","269","288","326"],"#282828":["4","296","312"],"#ffff00":["8","11","14","16","23","27","31","48","59","65","99","100","136","163","187","188","200","201","204","236","241","258","289","306","315","328","330","334","372"],"#ff7e7e":["12","17","51","52","53","54","55","56","57","58","70","85","86","87","88","89","90","91","92","93","94","95","96","97","98","111","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","178","179","279","320","370"],"#a3b06a":["19","39","66"],"#ff0000":["20","33","71","102","137","159","166","217","219","270","308","317"],"#00c848":["21","36","80","105","165","167","222","226","287","316","365","369"],"#ff9600":["24","32","68","101","164","168","237","256","318","335","366"],"#adadad":["25","30","61","108","132","161","169","220","319","333"],"#df12c9":["34","74","103","367"],"#007eff":["35","77","104","285","323","368"],"#cfcfcf":["45","60","107","131","189","215","221","223","261","283","374"],"#969696":["46","62","109","133","218"],"#04d1b6":["47"],"#fff78e":["49","155"],"#636363":["50","63","110","134","313"],"#ffffbb":["64","177","182","185","239","375"],"#ffca7e":["67","157","266","321"],"#a96300":["69","158","240","307"],"#a90000":["72","337","338","340"],"#ca7eff":["73","112","195","278","305"],"#5e1ba0":["75","181"],"#7e7eff":["76","113","193"],"#0000a9":["78"],"#7ee3a3":["79","139","176","192","194","282"],"#00842f":["81","138"],"#e68c00":["82","294","295","325"],"#dc1e00":["83"],"#968c00":["84"],"#606000":["170"],"#1e366c":["171"],"#8b2e1c":["172","293","299"],"#105830":["173","309"],"#45544b":["174"],"#1e68fe":["183"],"#ef370c":["184","208","235"],"#4cdf15":["186","229"],"#ff0012":["196","199"],"#4fff6c":["198"],"#33f3ff":["202","205","252","253","262"],"#30bdd6":["206","281"],"undefined":["209"],"#fbeab7":["224","274","275","311","342"],"#453d2a":["242","341"],"#bafbdf":["243","246","249","255"],"#ffde00":["251","271","280"],"#96cedf":["265"],"#fab07e":["267"],"#e8c368":["268"],"#99452b":["277"],"#0b0b0b":["284"],"#df11c9":["286"],"#3e281b":["290","291","373"],"#493c23":["297","298"],"#46332b":["302","314","349"],"#92de5f":["322"],"#776859":["345","352"],"#735c3c":["346","347","355","356"],"#615044":["348"],"#513301":["350","354","357"],"#ece4cc":["351"],"#fef9e7":["353"],"#92bcb4":["358"],"#6fa497":["359"],"#bce5db":["360"],"#e3d7c7":["361"],"#95b9ba":["363"],"#a9a7a3":["364"]}')},c547:function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("span",{domProps:{innerHTML:e._s(e.html)}})},c=[],a=n("3835"),o=n("b85c"),f=(n("ac1f"),n("5319"),n("d3b7"),n("99af"),n("caad"),n("2532"),n("b0c0"),n("466d"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("85e4")),i=n("41cb");const l=Object(i["e"])();function u(e,t="std"){return l.get(`/resource/${t}/${e}`)}var d=n("2ef0"),s={name:"GameText",props:{text:{type:String,default:""},client:{type:String,default:"std"}},data:function(){return{html:""}},methods:{renderItemHtml:function(e){var t=e.text,r="",c=null;if(t=t.replace(/\\n/g,"<br />").replace(/\\/g,""),[e.r,e.g,e.b].every((function(e){return void 0!=e&&e>0})))r="color: rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,");");else if(void 0!=e.font&&100!=e.font){var a=n("c10e");for(var o in a)if(a[o].includes(e.font)){r="color: ".concat(o,";");break}}if("iteminfolink"==e.name&&e.script){var i,l,u,d,s=null===(i=e.script)||void 0===i||null===(l=i.match(/this\.dwTabType=(\d+)/i))||void 0===l?void 0:l[1],h=null===(u=e.script)||void 0===u||null===(d=u.match(/this\.dwIndex=(\d+)/i))||void 0===d?void 0:d[1];if(s&&h){var b="".concat(s,"_").concat(h);c=Object(f["getLink"])("item",b)}}return c?'<a style="'.concat(r,' text-decoration: none;" target="_blank" href="').concat(c,'">').concat(t,"</a>"):'<span style="'.concat(r,'">').concat(t,"</span>")},renderTextHtml:function(e){var t=e,n=e.match(new RegExp("<Text>([\\s\\S]*?)<\\/text>","gimy"));if(!n)return e;var r,c=Object(o["a"])(n);try{for(c.s();!(r=c.n()).done;){var a=r.value,i=Object(f["extractTextContent"])(a),l=this.renderItemHtml(i[0]);t=t.replace(a,l)}}catch(u){c.e(u)}finally{c.f()}return t},renderBuffResource:function(){var e=this,t=this.html.match(/<BUFF (\d+) (\d+) (.*?)>/gim);if(t){var n,r={},c=Object(o["a"])(t);try{for(c.s();!(n=c.n()).done;){var f=n.value,i=f.match(/<BUFF (\d+) (\d+) (.*?)>/i),l=Object(a["a"])(i,4),d=l[0],s=l[1],h=l[2],b=l[3],v="".concat(s,"_").concat(h);r[v]||(r[v]=[]),r[v].push({token:d,type:b})}}catch(g){c.e(g)}finally{c.f()}var p=function(t){var n=r[t];u("buff.".concat(t),e.client).then((function(t){var r,c=t.data,f=Object(o["a"])(n);try{for(f.s();!(r=f.n()).done;){var i=r.value;i.type=i.type.toLowerCase();var l={desc:"Desc",time:"Interval"},u=l[i.type]||i.type,d=c[u];if("number"==typeof d&&"time"==i.type){var s=d/16;return s=s>60?"".concat(Math.floor(s/60),"分钟"):"".concat(s,"秒"),void(e.html=e.html.replace(i.token,s))}if(!d)return;var h=d.match(/<BUFF ([0-9a-zA-Z]+)>/gi);h||(e.html=e.html.replace(match,d));var b,v=Object(o["a"])(h);try{for(v.s();!(b=v.n()).done;)for(var p=b.value,m=p.match(/<BUFF ([0-9a-zA-Z]+)>/i),y=Object(a["a"])(m,2),x=y[1],w=1;w<15;w++)c["BeginAttrib".concat(w)]==x&&(d=d.replace(p,c["BeginValue".concat(w,"A")]))}catch(g){v.e(g)}finally{v.f()}e.html=e.html.replace(i.token,d)}}catch(g){f.e(g)}finally{f.f()}})).catch((function(e){console.log(e)}))};for(var m in r)p(m)}},renderEnchantResource:function(){var e=this,t=this.html.match(/<ENCHANT (\d+)>/gim);if(t){var n,r=Object(o["a"])(t);try{var c=function(){var t=n.value,r=t.match(/<ENCHANT (\d+)>/i)[1];u("enchant.".concat(r),e.client).then((function(n){var r=n.data,c=r.Time;c&&(c="，持续".concat(parseInt(c)/60,"分钟。"));var a="".concat(r.AttriName).concat(c||"");e.html=e.html.replace(t,a)})).catch((function(n){e.html=e.html.replace(t,Object(d["escape"])(t)),console.log(n)}))};for(r.s();!(n=r.n()).done;)c()}catch(a){r.e(a)}finally{r.f()}}},renderResource:function(){this.renderBuffResource(),this.renderEnchantResource()}},watch:{text:{immediate:!0,handler:function(e){this.html=this.renderTextHtml(e),this.renderResource()}}}},h=s,b=n("2877"),v=Object(b["a"])(h,r,c,!1,null,null,null);t["a"]=v.exports},c607:function(e,t,n){var r=n("83ab"),c=n("fce3"),a=n("c6b6"),o=n("edd0"),f=n("69f3").get,i=RegExp.prototype,l=TypeError;r&&c&&o(i,"dotAll",{configurable:!0,get:function(){if(this!==i){if("RegExp"===a(this))return!!f(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})}}]);
//# sourceMappingURL=chunk-67667e9d.ecc878be.js.map